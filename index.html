<!DOCTYPE html>
<html>
<head>
    <title>Passwortgenerator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 100px;
        }
        #passwordContainer {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #generatedPassword {
            margin-right: 10px;
        }
        #copyButton {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <h1>Passwortgenerator</h1>
    <label for="passwordLength">Passwortl√§nge:</label>
    <input type="number" id="passwordLength" value="12"><br><br>
    <label for="useDigits">Zahlen verwenden:</label>
    <input type="checkbox" id="useDigits" checked><br><br>
    <label for="useSpecialChars">Sonderzeichen verwenden:</label>
    <input type="checkbox" id="useSpecialChars" checked><br><br>
    <label for="onlyDotComma">Nur Punkt und Komma als Sonderzeichen:</label>
    <input type="checkbox" id="onlyDotComma"><br><br>
    <button onclick="generatePassword()">Passwort generieren</button><br><br>
    <div id="passwordContainer">
        <div id="generatedPassword"></div>
        <button id="copyButton" onclick="copyToClipboard()" title="Passwort kopieren">&#128203;</button>
    </div>

    <script>
        function generatePassword() {
            var length = parseInt(document.getElementById("passwordLength").value);
            var useDigits = document.getElementById("useDigits").checked;
            var useSpecialChars = document.getElementById("useSpecialChars").checked;
            var onlyDotComma = document.getElementById("onlyDotComma").checked;

            var minSpecialChars = 2;
            var requiredSpecialChars = ".,";
            if (!onlyDotComma) {
                requiredSpecialChars = "!@#$%^&*()_-+=<>?";
            }

            var characters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            if (useDigits) {
                characters += "0123456789";
            }
            if (useSpecialChars) {
                characters += requiredSpecialChars;
            }

            var password = '';
            for (var i = 0; i < length - minSpecialChars; i++) {
                var randomIndex = Math.floor(Math.random() * characters.length);
                password += characters.charAt(randomIndex);
            }

            for (var i = 0; i < minSpecialChars; i++) {
                var randomIndex = Math.floor(Math.random() * requiredSpecialChars.length);
                password += requiredSpecialChars.charAt(randomIndex);
            }

            password = password.split('').sort(function(){return 0.5-Math.random()}).join('');

            document.getElementById("generatedPassword").textContent = "Generiertes Passwort: " + password;
            document.getElementById("copyButton").style.display = "inline-block";
        }

        function copyToClipboard() {
            var passwordText = document.getElementById("generatedPassword").textContent;
            var password = passwordText.split(": ")[1];
            var dummyInput = document.createElement("input");
            document.body.appendChild(dummyInput);
            dummyInput.setAttribute("value", password);
            dummyInput.select();
            document.execCommand("copy");
            document.body.removeChild(dummyInput);
        }
    </script>
</body>
</html>
